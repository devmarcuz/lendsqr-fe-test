import React, { useState } from "react";
import CustomerIcons from "./CustomerIcons";
import BuisnessIcons from "./BuisnessIcons";
import SettingsIcon from "./SettingsIcon";
import { Link } from "react-router-dom";

const LeftDashboardSection = ({ bar }) => {
  const [IsHovered, setIsHovered] = useState(false);

  // useEffect(() => {
  //   adjustContainerHeight();
  //   window.addEventListener("resize", adjustContainerHeight);
  //   return () => {
  //     window.removeEventListener("resize", adjustContainerHeight);
  //   };
  // }, []);

  // const adjustContainerHeight = () => {
  //   if (containerRef.current) {
  //     const rightSectionHeight = containerRef.current.nextSibling.offsetHeight;
  //     containerRef.current.style.height = `${rightSectionHeight}px`;
  //   }
  // };

  const handleMouseEnter = () => {
    setIsHovered(true);
  };

  const handleMouseLeave = () => {
    setIsHovered(false);
  };

  const logout = () => {
    localStorage.removeItem("lendsqr_data");
  };

  return (
    <div
      className={`left-dashboard-section ${IsHovered ? "show-scrollbar" : ""} ${
        bar ? "active" : ""
      } `}
      onMouseEnter={handleMouseEnter}
      onMouseLeave={handleMouseLeave}
    >
      <div className="first-case">
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.4"
            d="M10 9H16V13.5C16 14.3 15.3 15 14.5 15H1.5C0.7 15 0 14.3 0 13.5V9H6V10.5C6 10.6326 6.05268 10.7598 6.14645 10.8536C6.24021 10.9473 6.36739 11 6.5 11H9.5C9.63261 11 9.75979 10.9473 9.85355 10.8536C9.94732 10.7598 10 10.6326 10 10.5V9Z"
            fill="#213F7D"
          />
          <path
            d="M14.5 4H12V2.5C12 1.7 11.3 1 10.5 1H5.5C4.7 1 4 1.7 4 2.5V4H1.5C0.7 4 0 4.7 0 5.5V8H16V5.5C16 4.7 15.3 4 14.5 4ZM10 4H6V3H10V4Z"
            fill="#213F7D"
          />
        </svg>
        <p>Switch Organization </p>
        <svg
          width="14"
          height="14"
          viewBox="0 0 14 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="caret-down"
        >
          <path
            d="M11.0573 3.9938C11.8984 3.15271 13.1595 4.45646 12.3184 5.25489L7.56759 10.0056C7.23127 10.3841 6.64282 10.3841 6.3065 10.0056L1.64002 5.38131C0.841037 4.54022 2.10267 3.27907 2.94322 4.12022L6.937 8.114L11.0573 3.9938Z"
            fill="#213F7D"
          />
        </svg>
      </div>
      <div className="second-case">
        <svg
          width="16"
          height="15"
          viewBox="0 0 16 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_72187_39)">
            <path
              opacity="0.4"
              d="M9.33329 12.8775V10.2222C9.33329 10.1043 9.28647 9.99127 9.20312 9.90792C9.11977 9.82457 9.00672 9.77774 8.88885 9.77774H7.11107C6.9932 9.77774 6.88015 9.82457 6.7968 9.90792C6.71345 9.99127 6.66663 10.1043 6.66663 10.2222V12.8808C6.66663 12.9983 6.62011 13.111 6.53724 13.1943C6.45437 13.2776 6.34189 13.3247 6.2244 13.3252L3.11107 13.3333C2.9932 13.3333 2.88015 13.2865 2.7968 13.2031C2.71345 13.1198 2.66663 13.0067 2.66663 12.8889V8.33497L7.78857 4.11691C7.84877 4.06839 7.92375 4.04193 8.00107 4.04193C8.07839 4.04193 8.15337 4.06839 8.21357 4.11691L13.3333 8.3333V12.8889C13.3333 13.0067 13.2865 13.1198 13.2031 13.2031C13.1198 13.2865 13.0067 13.3333 12.8888 13.3333L9.77774 13.3247C9.71914 13.3247 9.66112 13.3131 9.60701 13.2906C9.55291 13.2681 9.50379 13.2351 9.46248 13.1935C9.42117 13.152 9.38849 13.1026 9.36632 13.0484C9.34415 12.9942 9.33293 12.9361 9.33329 12.8775Z"
              fill="#213F7D"
            />
            <path
              d="M15.9255 7.45416L15.2172 8.31528C15.1894 8.34913 15.1552 8.37717 15.1166 8.3978C15.0779 8.41843 15.0356 8.43124 14.992 8.4355C14.9484 8.43975 14.9044 8.43537 14.8625 8.42261C14.8206 8.40985 14.7816 8.38895 14.7478 8.36111L8.21362 2.97805C8.15342 2.92953 8.07843 2.90307 8.00112 2.90307C7.9238 2.90307 7.84882 2.92953 7.78862 2.97805L1.25475 8.36111C1.18646 8.41724 1.09866 8.44395 1.01068 8.43536C0.922692 8.42676 0.841724 8.38357 0.785587 8.31528L0.0772555 7.45416C0.020991 7.38601 -0.00590471 7.2983 0.0024817 7.21032C0.0108681 7.12234 0.0538501 7.04129 0.121978 6.985L7.15251 1.19444C7.39117 0.998046 7.69065 0.890667 7.99973 0.890667C8.30881 0.890667 8.60829 0.998046 8.84695 1.19444L11.3333 3.23916V1.22222C11.3333 1.13381 11.3684 1.04903 11.431 0.986517C11.4935 0.924004 11.5783 0.888885 11.6667 0.888885H13.2222C13.3106 0.888885 13.3954 0.924004 13.4579 0.986517C13.5204 1.04903 13.5555 1.13381 13.5555 1.22222V5.06972L15.8778 6.98389C15.9119 7.01156 15.9402 7.0457 15.9611 7.08434C15.9819 7.12299 15.995 7.16539 15.9994 7.20909C16.0039 7.25279 15.9996 7.29694 15.9869 7.339C15.9743 7.38106 15.9534 7.4202 15.9255 7.45416Z"
              fill="#213F7D"
            />
          </g>
          <defs>
            <clipPath id="clip0_72187_39">
              <rect width="16" height="14.2222" fill="white" />
            </clipPath>
          </defs>
        </svg>
        <p>Dashboard </p>
      </div>
      <CustomerIcons />
      <BuisnessIcons />
      <SettingsIcon />
      <div className="end-case">
        <Link to="/login" className="logout" onClick={logout}>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_72375_597)">
              <path
                opacity="0.4"
                d="M5.625 14H3C2.20435 14 1.44129 13.6839 0.87868 13.1213C0.31607 12.5587 0 11.7956 0 11L0 5C0 4.20435 0.31607 3.44129 0.87868 2.87868C1.44129 2.31607 2.20435 2 3 2H5.625C5.72446 2 5.81984 2.03951 5.89016 2.10983C5.96049 2.18016 6 2.27554 6 2.375V3.625C6 3.72446 5.96049 3.81984 5.89016 3.89017C5.81984 3.96049 5.72446 4 5.625 4H3C2.73478 4 2.48043 4.10536 2.29289 4.29289C2.10536 4.48043 2 4.73478 2 5V11C2 11.2652 2.10536 11.5196 2.29289 11.7071C2.48043 11.8946 2.73478 12 3 12H5.625C5.72446 12 5.81984 12.0395 5.89016 12.1098C5.96049 12.1802 6 12.2755 6 12.375V13.625C6 13.7245 5.96049 13.8198 5.89016 13.8902C5.81984 13.9605 5.72446 14 5.625 14Z"
                fill="#213F7D"
              />
              <path
                d="M11.0313 2.75934L15.7781 7.46559C15.8485 7.53532 15.9044 7.61831 15.9425 7.70977C15.9807 7.80122 16.0003 7.89932 16.0003 7.9984C16.0003 8.09749 15.9807 8.19559 15.9425 8.28704C15.9044 8.37849 15.8485 8.46148 15.7781 8.53122L11.0281 13.2437C10.8868 13.383 10.6962 13.4607 10.4978 13.4602C10.2994 13.4596 10.1093 13.3807 9.96875 13.2406L9.28438 12.5562C9.21298 12.4844 9.15683 12.3988 9.1193 12.3047C9.08177 12.2107 9.06363 12.11 9.06596 12.0087C9.0683 11.9074 9.09106 11.8077 9.13289 11.7154C9.17472 11.6232 9.23475 11.5403 9.30938 11.4718L11.7344 9.24997H5.75C5.65144 9.25021 5.5538 9.23098 5.4627 9.19338C5.37159 9.15578 5.28881 9.10054 5.21912 9.03085C5.14943 8.96115 5.09419 8.87838 5.05659 8.78727C5.01899 8.69616 4.99976 8.59853 5 8.49997V7.49997C4.99976 7.4014 5.01899 7.30377 5.05659 7.21266C5.09419 7.12155 5.14943 7.03878 5.21912 6.96908C5.28881 6.89939 5.37159 6.84416 5.4627 6.80655C5.5538 6.76895 5.65144 6.74972 5.75 6.74997H11.7344L9.30938 4.52809C9.23516 4.45959 9.17555 4.37681 9.1341 4.28471C9.09266 4.19262 9.07025 4.0931 9.0682 3.99212C9.06616 3.89115 9.08453 3.79081 9.12222 3.69711C9.1599 3.60341 9.21612 3.51828 9.2875 3.44684L9.97188 2.76247C10.1121 2.62179 10.3023 2.54246 10.5009 2.54187C10.6995 2.54129 10.8902 2.61949 11.0313 2.75934Z"
                fill="#213F7D"
              />
            </g>
            <defs>
              <clipPath id="clip0_72375_597">
                <rect width="16" height="16" fill="white" />
              </clipPath>
            </defs>
          </svg>
          <p>Logout</p>
        </Link>

        <div className="version">v1.2.0</div>
      </div>
    </div>
  );
};

export default LeftDashboardSection;
